<body class="fixed-nav sticky-footer" id="page-top">
  <div class="content-wrapper">
    <div class="container">

<div class="row">
      <input class="form-control" id="BarreDeRecherche" type="text" placeholder="Rechercher..">
    </div>
    <div class="row">
      <button type="button" class="btn btn-success btn-block update"><i class="fa fa-check" aria-hidden="true"></i> Mettre Ã  jour!</button>
    </div>
<div class="row">
      <div id="TableObjectif" class="table-responsive table-striped table-hover"></div>
    </div>

    </div>
  </div>
</body>

    <script>

      $(document).ready(function () {

        BarreDeRecherche('BarreDeRecherche', 'TableObjectif');

        RemplirTableau();

        function RemplirTableau() {
          var idEmploye = localStorage.getItem("Connexion");
          var action = "Load";
          $.ajax({
            url: "Modele/ActionLabelTache.php",
            method: "POST",
            data: { action: action, idEmploye: idEmploye },
            success: function (data) {
              $('#TableObjectif').html(data);
            }
          });
        }

        $(document).on('click', '.update', function () {

var ToReturn = new Array();
          $( "input[type=text]" ).each(function() {
            if ($( this ).val()!= ""){
var UnLabel = new Array();
UnLabel.push(parseInt($( this ).attr('id')))

UnLabel.push($( this ).val().replace(/\"/g,""))
ToReturn.push(UnLabel)
        }
        
});
console.log(ToReturn)
          var action = "Changer";
          $.ajax({
            url: "Modele/ActionLabelTache.php",
            method: "POST",
            data: {action: action, ToReturn:ToReturn },
            success: function (data) {
              BootstrapAlert(data);
              RemplirTableau();
            }
          });
        });

      });
</script>